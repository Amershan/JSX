function doit(){function p(a,b,c){Object.defineProperty(a,b,{get:function(){return a.p=c()},set:function(c){Object.defineProperty(a,b,{value:c,enumerable:!0,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}function c(){}function d(){}function q(a,b,k,t){this.size=this.velY=this.velX=this.posY=this.posX=0;this.color="";this.state=0;this.posX=a;this.posY=b;this.size=k;this.color=t;a=Math.random()*d.rad;b=Math.random()*c.speed;this.velX=Math.cos(a)*b;this.velY=Math.sin(a)*b}function f(){}
function g(a,b,k){this.sparks=[];this.view=null;this.view=a;for(a=0;a<c.quantity;++a)this.sparks.push(new q(b,k,c.size,"lime"))}function i(){}function r(a){this.cx=null;this.top=this.left=this.height=this.width=0;this.fireworks=[];this.numSparks=0;var b=this,c;this.cx=function(a){return a instanceof CanvasRenderingContext2D?a:null}(a.getContext("2d"));this.width=a.width;this.height=a.height;c=a.getBoundingClientRect();this.left=c.left|0;this.top=c.top|0;a.addEventListener("mousedown",function(a){(function(a,
b){this.fireworks.push(new g(this,a-this.left,b-this.top))}).call(b,a.clientX,a.clientY)});a.addEventListener("touchstart",function(a){(function(a,b){this.fireworks.push(new g(this,a-this.left,b-this.top))}).call(b,a.touches[0].pageX,a.touches[0].pageY)})}function l(){}function s(a){this.elementId="";this.start=Date.now();this.frameCount=0;this.elementId=a}function j(){}function m(){}function n(){}function o(){}function h(){}function e(){}c.prototype={};(function(){}).prototype=new c;d.prototype=
{};q.prototype=new d;d.prototype._decay$=function(){this.velX*=c.decay;this.velY*=c.decay;this.size*=c.decay;0.5>this.size&&0===this.state&&(this.color=f.randomColor$(),this.size=c.size,this.state++)};d.prototype._move$=function(){this.posX+=this.velX+Math.random()-0.5;this.posY+=this.velY+Math.random()-0.5+c.gravity};d.prototype._render$LFireworkView$=function(a){a.cx.beginPath();a.cx.arc(this.posX,this.posY,this.size,0,d.rad,!0);a.cx.fillStyle=0.2<Math.random()?this.color:"white";a.cx.fill()};d.prototype._isLiving$LFireworkView$=
function(a){return 0.01>=this.size||0>=this.posX||this.posX>=a.width||this.posY>=a.height?!1:!0};d.prototype.draw$LFireworkView$=function(a){this._decay$();this.posX+=this.velX+Math.random()-0.5;this.posY+=this.velY+Math.random()-0.5+c.gravity;this._render$LFireworkView$(a);return this._isLiving$LFireworkView$(a)};f.prototype={};g.prototype=new f;f.randomColor$=function(){var a,b;a=[];for(b=0;3>b;++b)a[b]=Math.min(255*Math.random()+60|0,255);return"rgb("+(a[0]|0)+","+(a[1]|0)+","+(a[2]|0)+")"};f.prototype.update$=
function(){var a,b;for(a=0;a<this.sparks.length;++a)b=this.sparks[a],b.draw$LFireworkView$(this.view)||this.sparks.splice(a,1);return 0<this.sparks.length};i.prototype={};r.prototype=new i;i.prototype.explode$II=function(a,b){this.fireworks.push(new g(this,a-this.left,b-this.top))};i.prototype.update$=function(){var a,b;0===this.fireworks.length&&this.fireworks.push(new g(this,this.width/2+this.left-this.left,this.height/3-this.top));for(a=this.numSparks=0;a<this.fireworks.length;++a)b=this.fireworks[a],
function(){var a,b;for(a=0;a<this.sparks.length;++a)b=this.sparks[a],b.draw$LFireworkView$(this.view)||this.sparks.splice(a,1);return 0<this.sparks.length}.call(b)?this.numSparks+=b.sparks.length:this.fireworks.splice(a,1);this.cx.fillStyle="rgba(0, 0, 0, 0.3)";this.cx.fillRect(0,0,this.width,this.height)};l.prototype={};s.prototype=new l;l.prototype.update$I=function(a){++this.frameCount;0===this.frameCount%100&&(a="FPS: "+(1E3*(this.frameCount/(Date.now()-this.start))|0)+" (sparks: "+a+")",e.global.window.document.getElementById(this.elementId).innerHTML=
a)};j.prototype={};(function(){}).prototype=new j;j.main$SSI=function(a,b,d){var f,g;c.quantity=d;a=function(a){return a instanceof HTMLCanvasElement?a:null}(e.global.window.document.getElementById(a));f=new r(a);g=new s(b);e.global.window.setInterval(function(){f.update$();(function(a){++this.frameCount;0===this.frameCount%100&&(a="FPS: "+(1E3*(this.frameCount/(Date.now()-this.start))|0)+" (sparks: "+a+")",e.global.window.document.getElementById(this.elementId).innerHTML=a)}).call(g,f.numSparks)},
0)};m.prototype={};m.prototype.$__jsx_implements_AbstractView=!0;(function(){}).prototype=new m;n.prototype={};n.prototype.$__jsx_implements_DocumentView=!0;(function(){}).prototype=new n;o.prototype={};o.prototype.$__jsx_implements_CanvasRenderingContext=!0;(function(){}).prototype=new o;h.prototype={};(function(){}).prototype=new h;h.getWindow$=function(){return e.global.window};h.id$S=function(a){return e.global.window.document.getElementById(a)};e.prototype={};(function(){}).prototype=new e;c.quantity=
360;c.size=2;c.decay=0.98;c.gravity=2;c.speed=6;p(d,"rad",function(){return 2*Math.PI});p(h,"window",function(){return e.global.window});e.global=function(){return this}();j.main$SSI("night-sky","fps",1E3)};
